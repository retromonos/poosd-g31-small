<html>
    <script type="text/javascript" src="js/md5.js"></script>
    <script type="text/javascript" src="js/code.js"></script>
    <link href="signUpStyle.css" rel="stylesheet">
    <title>Pawfolio | Sign Up</title>
    <link rel="icon" href="favicon.ico">

    <body>
        <div id ="signUpBox">
            <h1> Sign Up</h1>
            <input type="text" id="registerFirst" placeholder="  First Name">
            <input type="text" id="registerLast" placeholder="  Last Name">
            <input type="text" id="registerName" placeholder="  Username">
            <div id="validate">* Password must be at least 8 characters with one number</div>
            <input type="password" id="registerPassword" placeholder="  Password" onkeyup="validatePassword()">
            <button type="button" id="signUp" onclick="tryRegister();"> Sign Up Now </button>
	    <span id="registerResult" style="padding: 20px;"></span>
        <p></p>
        </div>

        <div id="overlay"></div>
        <div id = "popUpBoxS">
            <p>Account succesfully created!</br>
                <a href="login.html">Click here</a> to log in.
            </p>
        </div>

        <div id = "popUpBoxE">
            <p>Error while creating account. Please try again.</br>
                <a href="signUp.html">Click here</a> to create account.
            </p>
        </div>
        
        <div id ="homePage">
            <a href="login.html">
                <button type="button" id="homeButton"> Log In </button>
            </a>
        </div>
    </body>
    <script>
        function validatePassword()
        {
            const validBox = document.getElementById("validate")
            let ps = document.getElementById("registerPassword").value
            
            if(ps.match("^(?=.*?[0-9]).{8,}$"))
            {
                validBox.innerHTML = "Password valid!"
                return true
            }
            else
            {
                validBox.innerHTML = "* Password must be at least 8 characters with one number"
                return false
            }
        }

        function tryRegister()
        {
            if(document.getElementById("registerFirst").value == ""
            || document.getElementById("registerLast").value == ""
            || document.getElementById("registerName").value == ""
            || document.getElementById("registerPassword").value == "")
            {
                document.getElementById("registerResult").innerHTML = "All fields must contain text"
                return
            }

            if(!validatePassword())
            {
                document.getElementById("registerResult").innerHTML = "Password must be valid"
                return
            }
            else 
            {
                document.getElementById("registerResult").innerHTML = ""
                doRegister()
            }
        }
    </script>
</html>
